import{r as c,u as w,s as h,c as k,o as S,a as l,b as r,d as v,h as V,e as t,f as u,l as g,w as D,g as E,v as G,t as T,q as j}from"./index.BOknro1r.js";import{_ as A}from"./logo.Dx3Q79ni.js";import{T as I}from"./ToasterComponent.Dz5A3hFA.js";import{_ as f}from"./BaseButton.w6EMXcGq.js";import{_ as q}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./BaseIcon.D7Rla7cl.js";const L={class:"min-h-screen relative overflow-hidden"},B={key:0,class:"absolute inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-md"},C={class:"relative z-10 min-h-screen flex items-center justify-center p-4"},N={class:"w-full max-w-md"},P={class:"group rounded-2xl bg-white/80 backdrop-blur-xl border border-white/40 shadow-2xl ring-1 ring-black/5 hover:ring-black/10 transition"},R={class:"p-6 sm:p-7"},Y={key:0,class:"rounded-lg bg-emerald-50 border border-emerald-200 text-emerald-700 p-3 text-sm"},z={key:1,class:"rounded-lg bg-rose-50 border border-rose-200 text-rose-700 p-3 text-sm"},M={key:2,class:"rounded-lg bg-amber-50 border border-amber-200 text-amber-700 p-3 text-sm"},F={class:"relative"},W={class:"px-6 sm:px-7 pb-6"},K={class:"flex items-center justify-between text-[11px] text-gray-500"},U={__name:"VerifyPage",setup($){const a=c(null),m=h(),b=j(),o=w(),n=c(m.query.email||""),s=c("idle"),d=c(!1),x=k(()=>n.value.trim().length>0),p=()=>{b.push({name:"login"})},y=async()=>{try{await o.resendVerification(n.value),a.value?.showToast("info","Verification email sent. Please check your inbox.")}catch(i){a.value?.showToast("warning",i.message||"Failed to resend verification email.")}};return S(async()=>{const i=m.query.token;if(i)try{d.value=!0,await o.verifyEmail(i),s.value="success",a.value?.showToast("success","Email verified successfully.")}catch(e){s.value="error",a.value?.showToast("warning",e.message||"Verification link invalid or expired.")}finally{d.value=!1}else m.query.email&&(s.value="idle")}),(i,e)=>(r(),l("div",L,[e[11]||(e[11]=v('<div class="absolute inset-0" data-v-f5d38994><div class="h-full w-full bg-cover bg-center" style="background-image:url(/images/bg.jpg)" data-v-f5d38994></div><div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/60" data-v-f5d38994></div><div class="absolute inset-0 backdrop-blur-sm" data-v-f5d38994></div><div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,_rgba(255,255,255,.08),_transparent_40%),radial-gradient(circle_at_80%_0,_rgba(255,255,255,.06),_transparent_35%),radial-gradient(circle_at_50%_100%,_rgba(255,255,255,.05),_transparent_45%)]" data-v-f5d38994></div></div>',1)),g(o).isLoading||d.value?(r(),l("div",B,[...e[1]||(e[1]=[t("div",{class:"loader"},null,-1)])])):V("",!0),t("div",C,[t("div",N,[e[9]||(e[9]=v('<div class="mb-6 text-center" data-v-f5d38994><a href="index.html" class="inline-flex items-center justify-center" data-v-f5d38994><img src="'+A+'" alt="DASIG" class="h-14 w-auto" data-v-f5d38994></a><h1 class="mt-4 text-2xl font-extrabold tracking-wide text-white" data-v-f5d38994> DASIG – Dashboard for Academic Systems, Information &amp; Governance </h1><p class="mt-1 text-primary-text/90 text-sm" data-v-f5d38994>“DASIG: Energizing Academic Leadership and Governance.” </p></div>',1)),t("div",P,[t("div",R,[e[7]||(e[7]=v('<div class="mb-5 text-center" data-v-f5d38994><div class="inline-flex items-center gap-2" data-v-f5d38994><span class="inline-grid h-8 w-8 place-items-center rounded-full bg-primary/10" data-v-f5d38994><i class="mdi mdi-email-check-outline text-primary text-xl" data-v-f5d38994></i></span><h2 class="text-lg font-bold text-gray-900" data-v-f5d38994>Verify Email</h2></div><p class="text-xs text-gray-500 mt-2" data-v-f5d38994>We sent a verification link to your email</p></div>',1)),s.value==="success"?(r(),l("div",Y,[e[2]||(e[2]=t("div",{class:"flex items-center gap-2"},[t("i",{class:"mdi mdi-check-circle-outline text-lg"}),t("span",null,"Your email has been verified. You can now sign in.")],-1)),u(f,{color:"primary",class:"mt-3 w-full justify-center",label:"Go to Login",onClick:p})])):s.value==="error"?(r(),l("div",z,[...e[3]||(e[3]=[t("div",{class:"flex items-center gap-2"},[t("i",{class:"mdi mdi-alert-circle-outline text-lg"}),t("span",null,"The verification link is invalid or expired. You can request a new one below.")],-1)])])):(r(),l("div",M,[...e[4]||(e[4]=[t("div",{class:"flex items-center gap-2"},[t("i",{class:"mdi mdi-timer-sand-empty text-lg"}),t("span",null,"Waiting for verification. If you didn’t receive the email, resend below.")],-1)])])),t("form",{onSubmit:D(y,["prevent"]),class:"space-y-3 mt-5"},[t("div",F,[e[5]||(e[5]=t("label",{class:"sr-only"},"Email",-1)),e[6]||(e[6]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[t("i",{class:"mdi mdi-email-outline text-gray-400 text-xl"})],-1)),E(t("input",{class:"w-full rounded-xl border border-gray-300/80 bg-white/70 pl-11 pr-3 py-2.5 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-primary/20 focus:border-primary transition disabled:opacity-60",type:"email",required:"",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=_=>n.value=_),autocomplete:"email"},null,512),[[G,n.value,void 0,{trim:!0}]])]),u(f,{color:"primary",class:"w-full justify-center",type:"submit",disabled:!x.value||g(o).isLoading||d.value,label:"Resend Verification Email"},null,8,["disabled"]),u(f,{type:"button",color:"secondary",outline:"",class:"w-full justify-center",label:"Back to Login",onClick:p})],32)]),t("div",W,[t("div",K,[e[8]||(e[8]=t("span",null,"DASIG Kiosk v1.0",-1)),t("span",null,"© "+T(new Date().getFullYear())+" Student Services",1)])])]),e[10]||(e[10]=t("div",{class:"mt-6 text-center text-xs text-gray-300"},[t("p",null,"By continuing, you agree to our Student Portal Guidelines.")],-1))])]),u(I,{ref_key:"toast",ref:a},null,512)]))}},ee=q(U,[["__scopeId","data-v-f5d38994"]]);export{ee as default};

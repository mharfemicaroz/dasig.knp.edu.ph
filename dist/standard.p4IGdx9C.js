import{I as c,r as d}from"./index.D6qiF35X.js";import{s as r}from"./department.C1lO3iao.js";const p=c("standard",()=>{const n=d({total:0,totalPages:1,currentPage:1,pageSize:10,data:[]}),u=d(null),t=d(!1),s=d(null);return{list:n,selected:u,isLoading:t,error:s,fetchAll:async(l={},e=!0)=>{s.value=null;try{t.value=!0;const a=await r.list(l);return n.value={total:a.total||0,totalPages:a.totalPages||1,currentPage:l.page||1,pageSize:l.limit||10,data:Array.isArray(a.data)?a.data:[]},n.value}catch(a){throw s.value=a?.response?.data?.message||a?.message||"Failed to fetch standards",a}finally{t.value=!1}},fetchById:async l=>{s.value=null;try{return t.value=!0,u.value=await r.getById(l),u.value}catch(e){throw s.value=e?.response?.data?.message||e?.message||"Failed to fetch standard",e}finally{t.value=!1}},create:async l=>{s.value=null;try{return t.value=!0,await r.create(l)}catch(e){throw s.value=e?.response?.data?.message||e?.message||"Failed to create standard",e}finally{t.value=!1}},updateById:async(l,e)=>{s.value=null;try{return t.value=!0,await r.updateById(l,e)}catch(a){throw s.value=a?.response?.data?.message||a?.message||"Failed to update standard",a}finally{t.value=!1}},deleteById:async l=>{s.value=null;try{return t.value=!0,await r.deleteById(l)}catch(e){throw s.value=e?.response?.data?.message||e?.message||"Failed to delete standard",e}finally{t.value=!1}}}});export{p as u};

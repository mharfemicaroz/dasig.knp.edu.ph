import{I as v,r}from"./index.DJOQ5Iyl.js";import{e as u}from"./department.C9-risKs.js";const I=v("evaluation",()=>{const n=r({total:0,totalPages:1,currentPage:1,pageSize:10,data:[]}),o=r(null),c=r([]),t=r(!1),l=r(null);return{list:n,selected:o,evaluators:c,isLoading:t,error:l,fetchAll:async(s={},e=!0)=>{l.value=null;try{t.value=!0;const a=await u.list(s);return n.value={total:a.total||0,totalPages:a.totalPages||1,currentPage:s.page||1,pageSize:s.limit||10,data:Array.isArray(a.data)?a.data:[]},n.value}catch(a){throw l.value=a?.response?.data?.message||a?.message||"Failed to fetch evaluations",a}finally{t.value=!1}},fetchById:async s=>{l.value=null;try{return t.value=!0,o.value=await u.getById(s),o.value}catch(e){throw l.value=e?.response?.data?.message||e?.message||"Failed to fetch evaluation",e}finally{t.value=!1}},create:async s=>{l.value=null;try{return t.value=!0,await u.create(s)}catch(e){throw l.value=e?.response?.data?.message||e?.message||"Failed to create evaluation",e}finally{t.value=!1}},updateById:async(s,e)=>{l.value=null;try{return t.value=!0,await u.updateById(s,e)}catch(a){throw l.value=a?.response?.data?.message||a?.message||"Failed to update evaluation",a}finally{t.value=!1}},deleteById:async s=>{l.value=null;try{return t.value=!0,await u.deleteById(s)}catch(e){throw l.value=e?.response?.data?.message||e?.message||"Failed to delete evaluation",e}finally{t.value=!1}},fetchEvaluators:async s=>{l.value=null;try{return t.value=!0,c.value=await u.getEvaluators(s),c.value}catch(e){throw l.value=e?.response?.data?.message||e?.message||"Failed to fetch evaluators",e}finally{t.value=!1}},setEvaluators:async(s,e=[])=>{l.value=null;try{t.value=!0;const a=await u.setEvaluators(s,e);return o.value=a,a}catch(a){throw l.value=a?.response?.data?.message||a?.message||"Failed to set evaluators",a}finally{t.value=!1}}}});export{I as u};
